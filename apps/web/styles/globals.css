@import "tailwindcss";
@import "./tokens.css";

@custom-variant dark (&:where(.dark, .dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--text);
  --font-sans: var(--font-body);
  --font-mono: var(--font-display);
}

* {
  border-color: var(--border);
}

html,
body {
  min-height: 100%;
  overflow-x: clip;
}

body {
  background: var(--background);
  color: var(--text);
  font-family: var(--font-body), sans-serif;
  background-image:
    radial-gradient(circle at 6% 14%, rgb(137 84 255 / 0.24), transparent 36%),
    radial-gradient(circle at 92% 6%, rgb(96 110 255 / 0.2), transparent 34%),
    linear-gradient(180deg, rgb(8 10 19) 0%, rgb(5 6 11) 100%);
}

:root body {
  background-image:
    radial-gradient(circle at 8% 14%, rgb(110 123 255 / 0.15), transparent 36%),
    radial-gradient(circle at 88% 8%, rgb(145 101 255 / 0.12), transparent 34%),
    linear-gradient(180deg, rgb(243 246 254) 0%, rgb(237 241 251) 100%);
}

.dark body {
  background-image:
    radial-gradient(circle at 6% 14%, rgb(137 84 255 / 0.24), transparent 36%),
    radial-gradient(circle at 92% 6%, rgb(96 110 255 / 0.2), transparent 34%),
    linear-gradient(180deg, rgb(8 10 19) 0%, rgb(5 6 11) 100%);
}

:root {
  --app-viewport-height: 100vh;
}

@supports (height: 100svh) {
  :root {
    --app-viewport-height: 100svh;
  }
}

@supports (height: 100dvh) {
  :root {
    --app-viewport-height: 100dvh;
  }
}

@supports (height: 100lvh) {
  :root {
    --app-viewport-height: 100lvh;
  }
}

.app-viewport {
  height: var(--app-viewport-height);
}

.app-viewport-min {
  min-height: var(--app-viewport-height);
}

h1,
h2,
h3,
.kpi-font {
  font-family: var(--font-display), sans-serif;
  letter-spacing: -0.02em;
}

.focus-ring {
  @apply focus-visible:ring-2 focus-visible:ring-[#9a6fff] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--background)] focus-visible:outline-none;
}

.glass-surface {
  background: linear-gradient(145deg, var(--surface), var(--surface-2));
  backdrop-filter: blur(22px);
  border: 1px solid var(--border);
  box-shadow: 0 18px 44px rgb(6 10 24 / 0.36);
}

.page-stack {
  display: flex;
  flex-direction: column;
  gap: var(--density-page-gap);
}

.safe-pt {
  padding-top: max(var(--space-1), env(safe-area-inset-top));
}

.safe-pb {
  padding-bottom: max(var(--space-1), env(safe-area-inset-bottom));
}

.safe-pl {
  padding-left: max(var(--space-1), env(safe-area-inset-left));
}

.safe-pr {
  padding-right: max(var(--space-1), env(safe-area-inset-right));
}

.skeleton {
  background: linear-gradient(
    120deg,
    rgb(255 255 255 / 0.05),
    rgb(255 255 255 / 0.12),
    rgb(255 255 255 / 0.05)
  );
  background-size: 220% 100%;
  animation: shimmer 1.4s linear infinite;
}

:root[data-motion="reduced"] .skeleton {
  animation: none;
  background: rgb(255 255 255 / 0.08);
}

:root[data-motion="reduced"] * {
  scroll-behavior: auto !important;
}

:root[data-motion="reduced"] *:not([data-allow-motion="true"]) {
  transition-duration: 0ms !important;
  animation-duration: 0ms !important;
}

@media (display-mode: standalone) {
  body {
    background-attachment: fixed;
  }

  [data-testid="mobile-header"] {
    padding-top: max(var(--space-2), env(safe-area-inset-top));
  }

  [data-testid="topbar"] {
    padding-top: max(env(titlebar-area-height, 0px), env(safe-area-inset-top));
  }

  [data-testid="bottom-nav"] {
    padding-bottom: max(var(--space-2), env(safe-area-inset-bottom));
  }
}

.wco-safe-top {
  padding-top: max(env(titlebar-area-height, 0px), env(safe-area-inset-top));
}

@keyframes shimmer {
  from {
    background-position: 200% 0;
  }

  to {
    background-position: -20% 0;
  }
}
